:root { color-scheme: dark; }

body { margin: 0; font-family: -apple-system, system-ui, sans-serif; background: #000; color: #fff; }
.wrap { max-width: 900px; margin: 0 auto; padding: 12px; }

.header { display: flex; justify-content: space-between; align-items: center; }
.header-actions { display: flex; gap: 8px; }

h1 { font-size: 22px; margin: 8px 0 12px; }

.tabs { display: flex; gap: 8px; margin-bottom: 10px; }
.tab { flex: 1; padding: 10px; background: #222; border-radius: 10px; text-align: center; font-weight: 700; color: #fff; border: none; }
.tab.active { background: #111; outline: 2px solid #555; }

#controls { display: grid; gap: 8px; margin-bottom: 10px; }
.sorts { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }

input, select, textarea { width: 100%; background: #1a1a1a; color: #fff; border: 0; border-radius: 8px; padding: 10px; }

.btn { background: #7c3aed; color: #fff; border: 0; border-radius: 10px; padding: 12px; font-weight: 700; text-align: center; }
.btn.secondary { background: #0d47a1; }
.btn.danger { background: #b00020; }
.btn.ghost { background: #1a1a1a; }
.small { font-size: 12px; padding: 8px 10px; }

.card { background: #111; padding: 12px; border-radius: 12px; margin-bottom: 10px; }

.row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.muted { color: #aaa; }

.toolbar { display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; }

/* verrouille le masquage d’onglets */
.hidden { display: none !important; }

/* Liste: cover à gauche, texte à droite */
.item { display: grid; grid-template-columns: 90px 1fr; gap: 12px; cursor: pointer; }
.cover { width: 90px; height: 90px; border-radius: 8px; object-fit: cover; background: #222; }
.meta { display: grid; grid-template-rows: auto auto auto; gap: 6px; }
.row-top { font-weight: 700; }
.row-mid { color: #aaa; }
.row-bottom { margin-top: 6px; }

/* Random */
.random-wrap { display: grid; grid-template-columns: 110px 1fr; gap: 12px; align-items: center; }
.random-cover { width: 110px; height: 110px; border-radius: 8px; object-fit: cover; background: #222; }

/* Modale */
dialog::backdrop { background: rgba(0,0,0,0.6); }
#editDialog { border: 1px solid #333; border-radius: 12px; padding: 0; background: #0b0b0b; color: #fff; width: min(680px, 92vw); }
.edit-form { padding: 16px; }
.edit-form h2 { margin: 0 0 12px; font-size: 18px; }
.edit-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.edit-grid .full { grid-column: 1 / -1; }
.dialog-actions { display: flex; gap: 8px; align-items: center; margin-top: 12px; }
.dialog-actions .spacer { flex: 1; }

/* Anti-zoom iOS dans la modale uniquement */
#editDialog input,
#editDialog select,
#editDialog textarea,
#editDialog button { font-size: 16px; }

/* Sur petit écran, empile la modale proprement */
@media (max-width: 520px) {
  .sorts { grid-template-columns: 1fr; }
  .edit-grid { grid-template-columns: 1fr; }
  .dialog-actions { display: grid; grid-template-columns: 1fr; }
  .dialog-actions .spacer { display: none; }
}
